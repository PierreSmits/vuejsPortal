<?xml version="1.0" encoding="UTF-8"?>

<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="http://ofbiz.apache.org/Widget-Screen" xsi:schemaLocation="http://ofbiz.apache.org/Widget-Screen http://ofbiz.apache.org/dtds/widget-screen.xsd">

    <!-- list all examples in a tabular format -->
    <screen name="FindExample">
        <section>
            <actions>
                <set field="headerItem" value="ExampleMenuItem"/>
                <set field="titleProperty" value="PageTitleFindExample"/>
                <set field="exampleCtx" from-field="parameters"/>
                <set field="formExampleListName" value="${groovy:
                    if (parameters.listOtherElements == 'items') return 'ListExamplesWithItems';
                    else if (parameters.listOtherElements == 'features') return 'ListExamplesWithFeatures';
                    else if (parameters.listOtherElements == 'status') return 'ListExamplesWithStatus';
                    else return 'ListExamples'}"/>
            </actions>
            <widgets>
                <decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                        <section>
                            <condition>
                                <if-has-permission permission="EXAMPLE" action="_VIEW"/>
                            </condition>
                            <widgets>
                                <decorator-screen name="FindScreenDecorator" location="component://common/widget/CommonScreens.xml">
                                    <decorator-section name="menu-bar">
                                        <container style="button-bar"><link target="EditExampleLayer" link-type="layered-modal" text="${uiLabelMap.ExampleNewExample}" style="buttontext create"/></container>
                                    </decorator-section>
                                    <decorator-section name="search-options">
                                        <include-form name="FindExamples" location="component://example/widget/example/ExampleForms.xml"/>
                                    </decorator-section>
                                    <decorator-section name="search-results">
                                        <include-grid name="${formExampleListName}" location="component://example/widget/example/ExampleForms.xml"/>
                                    </decorator-section>
                                </decorator-screen>
                            </widgets>
                            <fail-widgets>
                                <label style="h3">${uiLabelMap.ExampleViewPermissionError}</label>
                            </fail-widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>

    <screen name="ListExampleExport">
        <section>
            <widgets>
                <decorator-screen name="SimpleDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                        <section>
                            <condition>
                                <if-has-permission permission="EXAMPLE" action="_VIEW"/>
                            </condition>
                            <actions>
                                <set field="exampleCtx" from-field="parameters"/>
                            </actions>
                            <widgets>
                                <include-grid name="ListExampleExport" location="component://example/widget/example/ExampleForms.xml"/>
                            </widgets>
                            <fail-widgets>
                                <label style="h3">${uiLabelMap.ExampleViewPermissionError}</label>
                            </fail-widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
  </screens>
